@using TRS.Models
@model DateViewModel

@{
    ViewData["Title"] = "Project Details";
}

<h1>@ViewData["Title"]</h1>
<h2>@ViewBag.ProjectCode</h2>


@using(Html.BeginForm()) {
    @Html.TextBoxFor(model => model.date, new {type = "month"})
    <input type = "submit" value = "Show"/>
}

@{
    Html.RenderPartial("Activities", (Reports)ViewBag.Reports);
}

<form>
@if (ViewBag.Reports.IsFrozen()) {
    <button class = "btn btn-primary" disabled>Add Activity</button>
}
else {
    <button class = "btn btn-primary" asp-controller = "Projects" asp-action = "NewActivity" asp-route-code = "@ViewBag.ProjectCode">Add Activity</button>
    <button class = "btn btn-primary" asp-controller = "Projects" asp-action = "CloseMonth" asp-route-code = "@ViewBag.ProjectCode">Close month</button>
}
</form>